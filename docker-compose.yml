version: '3.8'

services:
  # --- 1. BACKEND SERVİSİ (API) ---
  reminder-api:
    # Eski dosyanızdaki 'reminder-app' adını 'reminder-api' olarak değiştirdik
    build: .  # Ana dizindeki Dockerfile'ı kullanır (Python)
    container_name: reminder-backend
    ports:
      - "5000:5000" # API'ye dışarıdan erişim için
    volumes:
      - .:/app
    environment:
      - TZ=Europe/Istanbul
    restart: always

  # --- 2. FRONTEND SERVİSİ (Web Arayüzü) ---
  reminder-web:
    build: ./frontend # frontend klasöründeki Dockerfile'ı kullanır (Nginx)
    container_name: reminder-frontend
    ports:
      - "8080:80" # Tarayıcıda 8080'e gidince konteynerin 80'ine yönlenir
    depends_on:
      - reminder-api # Frontend, Backend çalışmadan başlamalı
    restart: always
